{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\Storage_platform_App\\\\storageApp\\\\frontend\\\\src\\\\pages\\\\DashboardPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../api/client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DashboardPage = () => {\n  _s();\n  const [folders, setFolders] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [newFolderName, setNewFolderName] = useState(\"\");\n  const fetchFolders = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await api.get(\"/folders/root\");\n      setFolders(res.data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to load folders\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchFolders();\n  }, []);\n  const handleCreateFolder = async () => {\n    if (!newFolderName.trim()) return;\n    try {\n      await api.post(\"/folders\", {\n        name: newFolderName\n      });\n      setNewFolderName(\"\");\n      fetchFolders();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      alert((err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Failed to create folder\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Dashboard / Root Folders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"badge\",\n      children: \"Find All Folders View\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: \"1rem 0\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        placeholder: \"New root folder name\",\n        value: newFolderName,\n        onChange: e => setNewFolderName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: handleCreateFolder,\n        children: \"Create Folder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading folders...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"#f97373\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }, this), !loading && folders.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No folders yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 44\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list\",\n      children: folders.map(folder => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: folder.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: \"0.8rem\",\n              color: \"#9ca3af\"\n            },\n            children: [\"Created: \", new Date(folder.createdAt).toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"link\",\n          to: `/folders/${folder._id}`,\n          children: \"Open\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)]\n      }, folder._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardPage, \"iTF66fjXZBYR8xxsMrtVlHxQtOA=\");\n_c = DashboardPage;\nexport default DashboardPage;\nvar _c;\n$RefreshReg$(_c, \"DashboardPage\");","map":{"version":3,"names":["React","useEffect","useState","Link","api","jsxDEV","_jsxDEV","DashboardPage","_s","folders","setFolders","loading","setLoading","error","setError","newFolderName","setNewFolderName","fetchFolders","res","get","data","err","_err$response","_err$response$data","response","message","handleCreateFolder","trim","post","name","_err$response2","_err$response2$data","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","margin","placeholder","value","onChange","e","target","onClick","color","length","map","folder","fontSize","Date","createdAt","toLocaleString","to","_id","_c","$RefreshReg$"],"sources":["C:/Users/USER/Desktop/Storage_platform_App/storageApp/frontend/src/pages/DashboardPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../api/client\";\n\ninterface Folder {\n  _id: string;\n  name: string;\n  createdAt: string;\n}\n\nconst DashboardPage: React.FC = () => {\n  const [folders, setFolders] = useState<Folder[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [newFolderName, setNewFolderName] = useState(\"\");\n\n  const fetchFolders = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await api.get<Folder[]>(\"/folders/root\");\n      setFolders(res.data);\n    } catch (err: any) {\n      setError(err?.response?.data?.message || \"Failed to load folders\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchFolders();\n  }, []);\n\n  const handleCreateFolder = async () => {\n    if (!newFolderName.trim()) return;\n    try {\n      await api.post(\"/folders\", { name: newFolderName });\n      setNewFolderName(\"\");\n      fetchFolders();\n    } catch (err: any) {\n      alert(err?.response?.data?.message || \"Failed to create folder\");\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      <h2>Dashboard / Root Folders</h2>\n      <p className=\"badge\">Find All Folders View</p>\n\n      <div style={{ margin: \"1rem 0\" }}>\n        <input\n          className=\"input\"\n          placeholder=\"New root folder name\"\n          value={newFolderName}\n          onChange={(e) => setNewFolderName(e.target.value)}\n        />\n        <button className=\"button\" onClick={handleCreateFolder}>\n          Create Folder\n        </button>\n      </div>\n\n      {loading && <p>Loading folders...</p>}\n      {error && <p style={{ color: \"#f97373\" }}>{error}</p>}\n\n      {!loading && folders.length === 0 && <p>No folders yet.</p>}\n\n      <ul className=\"list\">\n        {folders.map((folder) => (\n          <li key={folder._id} className=\"list-item\">\n            <div>\n              <strong>{folder.name}</strong>\n              <div style={{ fontSize: \"0.8rem\", color: \"#9ca3af\" }}>\n                Created: {new Date(folder.createdAt).toLocaleString()}\n              </div>\n            </div>\n            <Link className=\"link\" to={`/folders/${folder._id}`}>\n              Open\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default DashboardPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}